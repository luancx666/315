import{r as w,o as $,c as D,a as o,b as i,d as u,e as n,w as t,f as _,F as f,g as y,h as g,t as k,i as b,u as E,j as L}from"./index-DhPxKL9D.js";const R={__name:"Menu",setup(h){const r=w(!0),c=w([]);$(async()=>{try{const l=await fetch("/data/event.json");if(!l.ok)throw new Error("Network response was not ok");c.value=await l.json()}catch(l){console.error("There was a problem with the fetch operation:",l)}});const d=D(()=>{if(!c.value.length)return[];const l={};return c.value.forEach(e=>{l[e.year]={year:e.year,items:e.data}}),Object.values(l).sort((e,a)=>a.year-e.year)});return(l,e)=>{const a=o("el-radio-button"),V=o("el-radio-group"),C=o("House"),m=o("el-icon"),v=o("el-menu-item"),j=o("Clock"),B=o("Location"),x=o("el-sub-menu"),N=o("el-menu");return u(),i(f,null,[n(V,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),style:{"margin-bottom":"20px"}},{default:t(()=>[n(a,{value:!1},{default:t(()=>e[1]||(e[1]=[_("开")])),_:1}),n(a,{value:!0},{default:t(()=>e[2]||(e[2]=[_("关")])),_:1})]),_:1},8,["modelValue"]),n(N,{router:"","default-active":E(L).currentRoute.value.fullPath,collapse:r.value,class:"el-menu-vertical-demo"},{default:t(()=>[n(v,{index:"/home"},{title:t(()=>e[3]||(e[3]=[_("首页")])),default:t(()=>[n(m,null,{default:t(()=>[n(C)]),_:1})]),_:1}),n(x,{index:"/history"},{title:t(()=>[n(m,null,{default:t(()=>[n(j)]),_:1}),e[4]||(e[4]=b("span",null,"历史315数据",-1))]),default:t(()=>[(u(!0),i(f,null,y(d.value,s=>(u(),g(x,{key:s.year,index:`/${s.year}`},{title:t(()=>[n(m,null,{default:t(()=>[n(B)]),_:1}),b("span",null,k(s.year),1)]),default:t(()=>[(u(!0),i(f,null,y(s.items,p=>(u(),g(v,{key:p.id,index:`/${s.year}/${p.id}`},{default:t(()=>[_(k(p.title),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1})]),_:1},8,["default-active","collapse"])],64)}}},F={class:"common-layout"},M={__name:"Index",setup(h){return(r,c)=>{const d=o("el-aside"),l=o("RouterView"),e=o("el-main"),a=o("el-container");return u(),i("div",F,[n(a,null,{default:t(()=>[n(d,{width:"collapse",style:{"border-right":"1px solid #ccc"},class:"menu"},{default:t(()=>[n(R)]),_:1}),n(a,null,{default:t(()=>[n(e,null,{default:t(()=>[n(l)]),_:1})]),_:1})]),_:1})])}}};export{M as default};
