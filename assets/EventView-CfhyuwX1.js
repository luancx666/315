import{_ as w,g as f,d as r,i as o,m as y,e as t,b as i,t as d,w as e,a as p,f as s,F as h,h as _,r as g,o as k,l as x,k as T}from"./index-BWA99bC_.js";const D={class:"content-container"},L={class:"title",style:{"font-size":"20px"}},N={key:0,class:"video-wrapper"},V=["src"],z={class:"event-description"},B={__name:"EventDetail",props:{data:{type:Object,required:!0}},setup(a){return(v,c)=>{const l=p("el-descriptions-item"),u=p("el-descriptions"),m=p("el-card"),b=p("el-tag");return r(),f("div",D,[o("div",L,d(a.data.title),1),a.data.url?(r(),f("div",N,[o("iframe",{src:`//player.bilibili.com/player.html?bvid=${a.data.url}&poster=1&autoplay=0&muted=1&danmaku=0`,style:{width:"100%",height:"280px"}},null,8,V)])):y("",!0),t(m,{class:"event-card"},{header:e(()=>c[0]||(c[0]=[o("div",{class:"card-header"},[o("span",null,"事件概览")],-1)])),default:e(()=>[t(u,{column:2,border:"","label-class-name":"desc-label","content-class-name":"desc-content"},{default:e(()=>[t(l,{label:"曝光时间"},{default:e(()=>[s(d(a.data.exposureTime),1)]),_:1}),t(l,{label:"涉事行业"},{default:e(()=>[s(d(a.data.industry),1)]),_:1})]),_:1}),o("div",z,d(a.data.desc),1)]),_:1}),t(m,{class:"company-card"},{header:e(()=>c[1]||(c[1]=[o("div",{class:"card-header"},[o("span",null,"涉事企业")],-1)])),default:e(()=>[(r(!0),f(h,null,_(a.data.companyList,n=>(r(),i(u,{key:n.id,column:2,border:"",class:"company-item"},{default:e(()=>[t(l,{label:"企业名称"},{default:e(()=>[s(d(n.name),1)]),_:2},1024),t(l,{label:"法人代表"},{default:e(()=>[s(d(n.legalPerson),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(m,{class:"company-card flex gap-2"},{header:e(()=>c[2]||(c[2]=[o("div",{class:"card-header"},[o("span",null,"涉事品牌")],-1)])),default:e(()=>[(r(!0),f(h,null,_(a.data.brandList,n=>(r(),i(b,{key:n.id,class:"brand-tag",type:"warning",effect:"plain",size:"large"},{default:e(()=>[s(d(n.name),1)]),_:2},1024))),128))]),_:1}),a.data.productType===1?(r(),i(m,{key:1,class:"problem-card"},{header:e(()=>c[3]||(c[3]=[o("div",{class:"card-header"},[o("span",null,"涉事产品")],-1)])),default:e(()=>[(r(!0),f(h,null,_(a.data.productList,n=>(r(),i(u,{key:n.id,column:3,border:"",class:"product-item"},{default:e(()=>[t(l,{label:"产品名称"},{default:e(()=>[s(d(n.name),1)]),_:2},1024),t(l,{label:"生产批次"},{default:e(()=>[s(d(n.batchNum),1)]),_:2},1024),t(l,{label:"问题类型"},{default:e(()=>[s(d(n.issueType),1)]),_:2},1024),t(l,{label:"备注"},{default:e(()=>[s(d(n.remark),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):a.data.productType===2?(r(),i(m,{key:2,class:"product-card"},{header:e(()=>c[4]||(c[4]=[o("div",{class:"card-header"},[o("span",null,"涉事问题")],-1)])),default:e(()=>[(r(!0),f(h,null,_(a.data.productList,n=>(r(),i(u,{key:n.id,column:1,border:"",class:"problem-item"},{default:e(()=>[t(l,{label:"问题类型","label-width":"100px"},{default:e(()=>[s(d(n.name),1)]),_:2},1024),t(l,{label:"具体表现","label-width":"100px"},{default:e(()=>[s(d(n.issueType),1)]),_:2},1024),t(l,{label:"备注","label-width":"100px"},{default:e(()=>[s(d(n.remark),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):y("",!0),a.data.penalty?(r(),i(u,{key:3,class:"margin-top penalty-item",title:"处罚记录",column:2,size:"large","label-width":"120px",border:""},{default:e(()=>[t(l,{label:"处罚类型"},{default:e(()=>[s(d(a.data.penalty.type),1)]),_:1}),t(l,{label:"罚款金额（万元）"},{default:e(()=>[s(d(a.data.penalty.amount),1)]),_:1}),t(l,{span:2,label:"处罚详情"},{default:e(()=>[s(d(a.data.penalty.desc),1)]),_:1}),t(l,{span:2,label:"企业回应声明"},{default:e(()=>[s(d(a.data.penalty.response),1)]),_:1})]),_:1})):y("",!0),a.data.followUp?(r(),i(u,{key:4,class:"margin-top penalty-item",title:"后续行动",column:1,size:"large","label-width":"120px",border:""},{default:e(()=>[t(l,{label:"监管措施"},{default:e(()=>[s(d(a.data.followUp.regulatory),1)]),_:1}),t(l,{label:"品牌回应"},{default:e(()=>[s(d(a.data.followUp.brandRes),1)]),_:1})]),_:1})):y("",!0)])}}},E=w(B,[["__scopeId","data-v-f513b64a"]]),j={__name:"EventView",setup(a){const v=T(),c=g({}),l=async()=>{const{year:u,dataPath:m}=v.params;try{const b=await fetch(`/data/${u}/${m}.json`);c.value=await b.json()}catch(b){console.error("数据加载失败:",b)}};return k(()=>{l()}),x(()=>v.fullPath,()=>{l()}),(u,m)=>(r(),i(E,{data:c.value},null,8,["data"]))}};export{j as default};
