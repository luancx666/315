import{_ as w,g as f,k as b,d as r,i as o,e as t,b as m,t as d,w as e,a as y,f as n,F as p,h,r as k,o as g,l as x,m as T}from"./index-k_H1kgA9.js";const D={key:0,class:"content-container"},L={class:"title"},N={key:0,class:"video-wrapper"},V=["src"],B={class:"event-description"},E={__name:"EventDetail",props:{data:{type:Object,required:!0}},setup(a){return(v,c)=>{const l=y("el-descriptions-item"),i=y("el-descriptions"),u=y("el-card"),_=y("el-tag");return a.data?(r(),f("div",D,[o("div",L,d(a.data.title),1),a.data.url?(r(),f("div",N,[o("iframe",{src:`//player.bilibili.com/player.html?bvid=${a.data.url}&poster=1&autoplay=0&muted=1&danmaku=0`},null,8,V)])):b("",!0),t(u,{class:"event-card"},{header:e(()=>c[0]||(c[0]=[o("div",{class:"card-header"},[o("span",null,"事件概览")],-1)])),default:e(()=>[t(i,{column:2,border:"","label-class-name":"desc-label","content-class-name":"desc-content"},{default:e(()=>[t(l,{label:"曝光时间"},{default:e(()=>[n(d(a.data.exposureTime),1)]),_:1}),t(l,{label:"涉事行业"},{default:e(()=>[n(d(a.data.industry),1)]),_:1})]),_:1}),o("div",B,d(a.data.desc),1)]),_:1}),t(u,{class:"company-card"},{header:e(()=>c[1]||(c[1]=[o("div",{class:"card-header"},[o("span",null,"涉事企业")],-1)])),default:e(()=>[(r(!0),f(p,null,h(a.data.companyList,s=>(r(),m(i,{key:s.id,column:2,border:"",class:"company-item"},{default:e(()=>[t(l,{label:"企业名称"},{default:e(()=>[n(d(s.name),1)]),_:2},1024),t(l,{label:"法人代表"},{default:e(()=>[n(d(s.legalPerson),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(u,{class:"company-card flex gap-2"},{header:e(()=>c[2]||(c[2]=[o("div",{class:"card-header"},[o("span",null,"涉事品牌")],-1)])),default:e(()=>[(r(!0),f(p,null,h(a.data.brandList,s=>(r(),m(_,{key:s.id,class:"brand-tag",type:"warning",effect:"plain",size:"large"},{default:e(()=>[n(d(s.name),1)]),_:2},1024))),128))]),_:1}),a.data.productType===1?(r(),m(u,{key:1,class:"problem-card"},{header:e(()=>c[3]||(c[3]=[o("div",{class:"card-header"},[o("span",null,"涉事产品")],-1)])),default:e(()=>[(r(!0),f(p,null,h(a.data.productList,s=>(r(),m(i,{key:s.id,column:3,border:"",class:"product-item"},{default:e(()=>[t(l,{label:"产品名称"},{default:e(()=>[n(d(s.name),1)]),_:2},1024),t(l,{label:"生产批次"},{default:e(()=>[n(d(s.batchNum),1)]),_:2},1024),t(l,{label:"问题类型"},{default:e(()=>[n(d(s.issueType),1)]),_:2},1024),t(l,{label:"备注"},{default:e(()=>[n(d(s.remark),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):a.data.productType===2?(r(),m(u,{key:2,class:"product-card"},{header:e(()=>c[4]||(c[4]=[o("div",{class:"card-header"},[o("span",null,"涉事问题")],-1)])),default:e(()=>[(r(!0),f(p,null,h(a.data.productList,s=>(r(),m(i,{key:s.id,column:1,border:"",class:"problem-item"},{default:e(()=>[t(l,{label:"问题类型","label-width":"100px"},{default:e(()=>[n(d(s.name),1)]),_:2},1024),t(l,{label:"具体表现","label-width":"100px"},{default:e(()=>[n(d(s.issueType),1)]),_:2},1024),t(l,{label:"备注","label-width":"100px"},{default:e(()=>[n(d(s.remark),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):b("",!0),a.data.penalty?(r(),m(i,{key:3,class:"margin-top penalty-item",title:"处罚记录",column:2,size:"large","label-width":"120px",border:""},{default:e(()=>[t(l,{label:"处罚类型"},{default:e(()=>[n(d(a.data.penalty.type),1)]),_:1}),t(l,{label:"罚款金额（万元）"},{default:e(()=>[n(d(a.data.penalty.amount),1)]),_:1}),t(l,{span:2,label:"处罚详情"},{default:e(()=>[n(d(a.data.penalty.desc),1)]),_:1}),t(l,{span:2,label:"企业回应声明"},{default:e(()=>[n(d(a.data.penalty.response),1)]),_:1})]),_:1})):b("",!0),a.data.followUp?(r(),m(i,{key:4,class:"margin-top penalty-item",title:"后续行动",column:1,size:"large","label-width":"120px",border:""},{default:e(()=>[t(l,{label:"监管措施"},{default:e(()=>[n(d(a.data.followUp.regulatory),1)]),_:1}),t(l,{label:"品牌回应"},{default:e(()=>[n(d(a.data.followUp.brandRes),1)]),_:1})]),_:1})):b("",!0)])):b("",!0)}}},P=w(E,[["__scopeId","data-v-da89d72d"]]),z={__name:"EventView",setup(a){const v=T(),c=k({}),l=async()=>{const i=v.fullPath.replace("/event","");try{const u=await fetch(`/data${i}.json`);c.value=await u.json()}catch(u){console.error("There was a problem with the fetch operation:",u)}};return g(()=>{l()}),x(()=>v.fullPath,()=>{l()}),(i,u)=>(r(),m(P,{data:c.value},null,8,["data"]))}};export{z as default};
